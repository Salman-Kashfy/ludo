type TournamentPlayer {
    tournamentId: Int!
    customerId: Int!
    tableId: Int
    status: PlayerTournamentStatus!
    eliminatedInRound: Int
    finalPosition: Int

    #Relations
    customer: Customer
    table: Table
}

enum PlayerTournamentStatus {
    ACTIVE
    ELIMINATED
    ADVANCED
    WINNER
    WITHDRAWN
}

#------------------------
# Queries
#------------------------
extend type Query {
    tournamentPlayers(tournamentUuid: ID!): TournamentPlayersPayload! @requireAuth @requirePermissions(permissions: ["tournament:view"])
    playerRegistrationBill(params: PlayerRegistrationBillInput!): PlayerRegistrationBillPayload! @requireAuth @requirePermissions(permissions: ["tournament:view"])
}

#------------------------
# Mutations
#------------------------
extend type Mutation {
    playerRegistration(input: PlayerRegistrationInput!): SaveTournamentPlayerPayload! @requireAuth @requirePermissions(permissions: ["tournament:create"])
}


#------------------------
# Payload types
#------------------------
type TournamentPlayersPayload {
    list: [TournamentPlayer]
    errors: GlobalError
    status: Boolean
    errorMessage: String
}

type PlayerRegistrationBillPayload {
    data: Tournament
    errors: GlobalError
    status: Boolean
    errorMessage: String
}

type SaveTournamentPlayerPayload {
    data: Tournament
    errors: GlobalError
    status: Boolean
    errorMessage: String
}

input PlayerRegistrationBillInput {
    customerUuid: ID!
    tournamentUuid: ID!
}

input PlayerRegistrationInput {
    customerUuid: ID!
    tournamentUuid: ID!
    paymentMethod: PaymentMethodInput!
}