type Customer {
    uuid: ID!
    firstName: String!
    lastName: String!
    fullName: String!
    phoneCode: String
    phoneNumber: String
    phone: String
    createdAt: String!
    updatedAt: String!
}

extend type Query {
    customer(uuid: ID!): CustomerPayload @requireAuth @requirePermissions(permissions: ["customer:view"])
    customers(paging: PaginatorInput, params: CustomerFilter): CustomersPayload! @requireAuth @requirePermissions(permissions: ["customer:view"])
}

extend type Mutation {
    saveCustomer(input: SaveCustomerInput!): SaveCustomerPayload @requireAuth @requirePermissions(permissions: ["customer:upsert"])
    deleteCustomer(uuid: ID!): DeleteCustomerPayload @requireAuth @requirePermissions(permissions: ["customer:delete"])
}

input CustomerFilter {
    searchText: String
    companyUuid: ID!
}

type CustomerPayload {
    data: Customer
    errors: [GlobalError]
    status: Boolean
    errorMessage: String
}

type CustomersPayload {
    list: [Customer]
    paging: PaginatorOutputUpdated
}

input SaveCustomerInput {
    uuid: ID
    firstName: String!
    lastName: String!
    phoneCode: String!
    phoneNumber: String!
    companyUuid: ID!
}


type SaveCustomerPayload {
    data: Customer
    errors: GlobalError
    status: Boolean
    errorMessage: String
}

type DeleteCustomerPayload {
    status: Boolean
    errors: GlobalError
    errorMessage: String
}
